const e=[{startIndex:0,endIndex:1,elementId:"button-1739445197107"},{startIndex:2,endIndex:3,elementId:"button-1739449985972"},{startIndex:2,endIndex:3,elementId:"button-1739450176662"},{startIndex:2,endIndex:3,elementId:"button-1739450176843"},{startIndex:3,endIndex:4,elementId:"button-1739450511433"},{startIndex:4,endIndex:5,elementId:"button-1739450620620-o55r8b6l5"},{startIndex:4,endIndex:5,elementId:"button-1739450620620-v786qs8wk"},{startIndex:4,endIndex:5,elementId:"button-1739450620620-3i00yumek"},{startIndex:4,endIndex:5,elementId:"button-1739450774065"},{startIndex:5,endIndex:6,elementId:"button-1739450813712-886fovkub"},{startIndex:5,endIndex:6,elementId:"button-1739450813712-u7kc4c0v3"},{startIndex:5,endIndex:6,elementId:"button-1739450813712-fup1map1w"},{startIndex:5,endIndex:6,elementId:"button-1739450813712-lb29ydw36"},{startIndex:6,endIndex:7,elementId:"button-1739463173907-xqp0s8myv"},{startIndex:6,endIndex:7,elementId:"button-1739463173907-mkxa2hoks"},{startIndex:6,endIndex:7,elementId:"button-1739463173908-3j43ogvgh"},{startIndex:6,endIndex:7,elementId:"button-1739463173908-bdi8vhe8k"},{startIndex:7,endIndex:8,elementId:"button-1739464124340-nlp9a4kvx"},{startIndex:7,endIndex:8,elementId:"button-1739464124340-j188zffsv"},{startIndex:7,endIndex:8,elementId:"button-1739464124340-mnud2c4vr"},{startIndex:7,endIndex:8,elementId:"button-1739464124340-68yjt7fy9"},{startIndex:8,endIndex:9,elementId:"button-1739464237410-iad8q6lhh"},{startIndex:8,endIndex:9,elementId:"button-1739464237410-06eh5osnl"},{startIndex:8,endIndex:9,elementId:"button-1739464237410-axd9rss21"},{startIndex:8,endIndex:9,elementId:"button-1739464237410-at0q1rmna"},{startIndex:9,endIndex:10,elementId:"button-1739464347116-icjg6t83o"},{startIndex:9,endIndex:10,elementId:"button-1739464347116-s2o1g9bw9"},{startIndex:9,endIndex:10,elementId:"button-1739464347116-3ehqcpjr0"},{startIndex:9,endIndex:10,elementId:"button-1739464347116-blb1di8ju"},{startIndex:10,endIndex:11,elementId:"button-1739465091647"},{startIndex:11,endIndex:12,elementId:"button-1739464915105-qdxlzhjbl"},{startIndex:11,endIndex:12,elementId:"button-1739464915105-outi1zslb"},{startIndex:11,endIndex:12,elementId:"button-1739464915105-2ourupz0m"},{startIndex:11,endIndex:12,elementId:"button-1739464915105-5yw36v7tv"},{startIndex:11,endIndex:12,elementId:"button-1739465067681"},{startIndex:12,endIndex:13,elementId:"button-1739465158911-slvvw9chl"},{startIndex:12,endIndex:13,elementId:"button-1739465158911-bfuj3ehmb"},{startIndex:12,endIndex:13,elementId:"button-1739465158911-1gii705fg"},{startIndex:12,endIndex:13,elementId:"button-1739465158911-amcbm7lgh"},{startIndex:13,endIndex:14,elementId:"button-1739466445130-snb85htzl"},{startIndex:13,endIndex:14,elementId:"button-1739466445130-ku9dvoxll"},{startIndex:13,endIndex:14,elementId:"progress-1739463826887"},{startIndex:13,endIndex:14,elementId:"button-1739466445130-m09d4bbl1"},{startIndex:14,endIndex:15,elementId:"button-1739466589496-3j7e9wu75"},{startIndex:14,endIndex:15,elementId:"button-1739466589496-i0ft197qo"},{startIndex:14,endIndex:15,elementId:"button-1739466589496-2kpt0aq13"},{startIndex:14,endIndex:15,elementId:"button-1739466692378"},{startIndex:15,endIndex:16,elementId:"button-1739467020942"},{startIndex:15,endIndex:16,elementId:"button-1739466982899"},{startIndex:15,endIndex:16,elementId:"button-1739466713555-sgo4ypjja"},{startIndex:16,endIndex:18,elementId:"progress-1739467251347"},{startIndex:1,endIndex:2,elementId:"button-1739449595898"},{startIndex:18,endIndex:17,elementId:"button-1739468134622"},{startIndex:17,endIndex:19,elementId:"button-1739467806927"}],t={webhookUrl:"https://script.google.com/macros/s/AKfycbzl-OEF6f7yhlSJaLrJYLaa58vXPVLNPe_i3omnAMLzPjLWrYUDJISccDIcR6mplsOVIg/exec",quizId:"quiz_"+Date.now(),quizName:"Terrace",quizCategory:"Teste"},n={quizName:t.quizName,startTime:Date.now(),endTime:null,furthestSection:"section-0",responses:{},city:"",state:"",postalCode:"",device:"",nome:"",email:"",whatsapp:""};n.device=function(){let e=navigator.userAgent;return/android/i.test(e)?"Android":/iPhone|iPad|iPod/i.test(e)?"iOS":/Windows Phone/i.test(e)?"Windows Phone":/Macintosh/i.test(e)?"Mac":/Windows/i.test(e)?"Windows":/Linux/i.test(e)?"Linux":"Other"}();let o=!1;function l(){if(o)return;o=!0,n.endTime=Date.now(),n.nome=i.nome||"",n.email=i.email||"",n.whatsapp=i.whatsapp||"";let e=new Blob([new URLSearchParams({data:JSON.stringify([n])})],{type:"application/x-www-form-urlencoded"});navigator.sendBeacon(t.webhookUrl,e)}function r(e){if(o)return;o=!0,n.nome=i.nome||"",n.email=i.email||"",n.whatsapp=i.whatsapp||"",n.city=n.city||"Desconhecida";let l=[n],r=new Blob([new URLSearchParams({data:JSON.stringify(l)})],{type:"application/x-www-form-urlencoded"});navigator.sendBeacon(t.webhookUrl,r)?window.location.href=e:fetch(t.webhookUrl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({data:JSON.stringify(l)})}).then(()=>{window.location.href=e}).catch(t=>{console.error("Erro ao enviar analytics:",t),window.location.href=e})}window.addEventListener("pagehide",l),window.addEventListener("beforeunload",l),document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&l()}),document.addEventListener("click",function(t){let o=t.target.closest(".mobile-button");if(o){if(o.disabled||"none"===o.style.pointerEvents)return;let t=o.getAttribute("data-link");if(t){n.endTime=Date.now(),r(t);return}let l=o.id,a=e.find(e=>e.elementId===l);if(a){let e=a.startIndex,t=o.querySelector(".text").textContent;n.responses["section_"+e]=t,d("section-"+a.endIndex)}}});let a=!1;async function s(){if(!a){a=!0,console.log("Iniciando fetchUserLocation...");try{let e=await fetch("https://ipapi.co/json/");if(!e.ok)throw Error("ipapi.co falhou");let t=await e.json();if(!t)throw Error("Nenhum dado recebido da ipapi.co");n.city=t.city||"Desconhecida",n.state=t.region||"Desconhecido",n.postalCode=t.postal||"Desconhecido",console.log("Localização do usuário:",n.city,n.state,n.postalCode)}catch(e){console.error("Erro ao buscar a localização via ipapi.co:",e),n.city="Desconhecida",n.state="Desconhecido",n.postalCode="Desconhecido"}}}function d(t){h.forEach(e=>{e.pauseVideo()}),console.log("Showing section:",t),document.querySelectorAll(".quiz-section").forEach(e=>{e.classList.remove("active"),e.querySelectorAll(".mobile-gallery").forEach(e=>{e.galleryInstance&&e.galleryInstance.stopAutoplay()}),e.querySelectorAll(".mobile-button").forEach(e=>{e.style.opacity="0",e.style.transition="none",e.style.pointerEvents="none"})});let l=document.getElementById(t);l&&(l.classList.add("active"),window.scrollTo({top:0,behavior:"auto"}),document.documentElement.scrollTop=0,document.body.scrollTop=0,function(e){e.querySelectorAll(".mobile-button[data-delay]").forEach(e=>{e.style.opacity="0",e.style.pointerEvents="none";let t=parseFloat(e.getAttribute("data-delay"));setTimeout(()=>{e.style.opacity="1",e.style.pointerEvents="auto"},isNaN(t)?0:1e3*t)})}(l),l.querySelectorAll(".mobile-button:not([data-delay])").forEach(e=>{e.style.opacity="1",e.style.transition="opacity 0.3s ease",e.style.pointerEvents="auto"}),function(t){t.querySelectorAll(".mobile-progress").forEach(function(t){let l=t.querySelector(".progress-fill"),a=t.querySelector(".progress-value"),s=parseInt(t.getAttribute("data-start"))||0,i=parseInt(t.getAttribute("data-end"))||100,c="true"===t.getAttribute("data-enable-redirect"),u=parseInt(t.getAttribute("data-duration"))||1;console.log("Animating progress bar:",t.id,"from",s,"to",i,"duration:",u),l.style.width=s+"%",a.textContent=s+"%";let h=s,y=(i-s)/(50*u),I=setInterval(function(){if((h+=y)>=i&&(h=i,clearInterval(I),console.log("Progress bar reached 100%"),c))"true"===t.getAttribute("data-enable-redirect")&&setTimeout(function(){let l=t.getAttribute("data-redirect-link");if(l)o?window.location.href=l:(n.endTime=Date.now(),r(l));else{let n=e.find(function(e){return e.elementId===t.id});n&&d("section-"+n.endIndex)}},1e3);l.style.width=h+"%",a.textContent=Math.round(h)+"%"},20)})}(l),function(e){e.querySelectorAll(".mobile-score").forEach(e=>{let t=e.querySelector(".circle-wrap"),n=e.querySelector(".percent"),o=parseInt(n.textContent,10)||0,l=e.getAttribute("data-primary-color")||"#a31b1b";(function(e,t,n,o,l,r){let a=0;t.textContent="0%",e.style.background=`conic-gradient(${o} 0%, ${l} 0%, rgb(229, 231, 235) 0%)`;let s=setInterval(()=>{if(a>=n){clearInterval(s);return}a++,e.style.background=`
        conic-gradient(
          ${o} 0%,
          ${l} ${a}%,
          rgb(229, 231, 235) ${a}%
        )
      `,t.textContent=a+"%",t.style.backgroundColor=r},20)})(t,n,o,l,e.getAttribute("data-secondary-color")||"#dc2626",e.getAttribute("data-bg-color")||"#f8f9fe")})}(l),function(e){Array.from(e.getElementsByTagName("*")).filter(e=>!e.children.length&&e.textContent.includes("{{")).map(e=>({element:e,original:e.textContent})).forEach(({element:e,original:t})=>{let o=t;(o.match(/{{([^}]+)}}/g)||[]).forEach(e=>{let t=e.slice(2,-2).trim(),l=i[t]||n[t]||"";o=o.replace(e,l)}),e.textContent=o})}(l),c(l.querySelector(".input-widget")),function(e=document){e.querySelectorAll(".mobile-gallery").forEach(e=>{let t=e.galleryInstance;t&&t.stopAutoplay(),e.galleryInstance=new u(e)})}(l),s(),(parseInt(t.split("-")[1])||0)>(parseInt(n.furthestSection.split("-")[1])||0)&&(n.furthestSection=t))}document.addEventListener("DOMContentLoaded",function(){console.log("DOM fully loaded");let e=document.querySelector(".quiz-section");e&&e.id?(console.log("Activating first section using showSection"),d(e.id),o=!1):console.error("Primeira seção não encontrada ou não possui um ID.")}),document.querySelectorAll(".mobile-button").forEach(function(e){let t=e.getAttribute("data-hover-color");t&&e.style.setProperty("--hover-color",t)}),document.addEventListener("DOMContentLoaded",function(){let t=()=>{document.querySelectorAll(".mobile-multiple-choice").forEach(t=>{let{options:n,continueButton:o,continueColor:l,checkboxColor:r}=function(e){let t=e.querySelectorAll(".option-button"),n=e.querySelector(".continue-button"),o=n.style.backgroundColor,l=t[0]?.querySelector(".checkbox")?.style.borderColor||"#d6d6d6";t.forEach(e=>{let t=e.cloneNode(!0);e.parentNode.replaceChild(t,e)});let r=n.cloneNode(!0);return n.parentNode.replaceChild(r,n),e.querySelectorAll(".option-button").forEach(e=>{e.classList.remove("active");let t=e.querySelector(".checkbox");t&&(t.style.backgroundColor="",t.style.borderColor=l)}),r.classList.remove("active"),r.style.opacity="0.5",r.style.cursor="not-allowed",{options:e.querySelectorAll(".option-button"),continueButton:r,continueColor:o,checkboxColor:l}}(t);function a(e){e.preventDefault(),this.classList.toggle("active");let n=this.querySelector(".checkbox");this.classList.contains("active")?n.style.backgroundColor=r:n.style.backgroundColor="",n.style.borderColor=r,function(e,t){let n=e.querySelectorAll(".option-button.active").length>0;t.classList.toggle("active",n),t.style.opacity=n?"1":"0.5",t.style.cursor=n?"pointer":"not-allowed"}(t,o)}n.forEach(e=>{e.addEventListener("click",a)}),o.addEventListener("click",()=>{if(t.querySelectorAll(".option-button.active").length>0){let n=e.find(e=>e.elementId===t.id);n&&d("section-"+n.endIndex)}})})};t();let n=new MutationObserver(e=>{e.forEach(e=>{e.target.classList.contains("active")&&(t(),c(e.target.querySelector(".input-widget")))})});document.querySelectorAll(".quiz-section").forEach(e=>{n.observe(e,{attributes:!0,attributeFilter:["class"]})})});let i=JSON.parse(sessionStorage.getItem("userVariables")||"{}");function c(t){if(!t)return;let n=t.querySelector(".input-field"),o=t.querySelector(".continue-button"),l=n.getAttribute("data-variable");o.disabled=!0,o.style.opacity="0.5",o.style.cursor="not-allowed",i[l]&&(n.value=i[l],o.disabled=!1,o.style.opacity="1",o.style.cursor="pointer"),n.addEventListener("input",function(){let e=this.value.trim().length>0;o.disabled=!e,o.style.opacity=e?"1":"0.5",o.style.cursor=e?"pointer":"not-allowed",i[l]=this.value,sessionStorage.setItem("userVariables",JSON.stringify(i))}),o.addEventListener("click",function(){if(n.value.trim().length>0){let n=e.find(e=>e.elementId===t.id);n&&d("section-"+n.endIndex)}})}class u{constructor(e){this.gallery=e,this.track=e.querySelector(".gallery-track"),this.slides=[...e.querySelectorAll(".gallery-slide")],this.dots=[...e.querySelectorAll(".gallery-dot")],this.currentSlide=0,this.autoplayInterval=null;let t=e.querySelectorAll(".gallery-dot"),n=t[0],o=t[1];this.dotActiveColor=n?.style.backgroundColor||"#9333ea",this.dotColor=o?.style.backgroundColor||"#ccc",this.dots.forEach((e,t)=>{e.style.transition="all 0.3s ease",this.updateDotStyle(e,0===t)}),this.dots.forEach((e,t)=>{e.addEventListener("click",()=>this.goToSlide(t))}),this.touchStartX=0,this.touchEndX=0,this.track.addEventListener("touchstart",e=>this.touchStart(e)),this.track.addEventListener("touchmove",e=>this.touchMove(e)),this.track.addEventListener("touchend",e=>this.touchEnd(e)),this.track.addEventListener("mouseenter",()=>this.stopAutoplay()),this.track.addEventListener("mouseleave",()=>this.startAutoplay()),this.updateDotColors(),this.startAutoplay()}updateDotStyle(e,t){e.style.backgroundColor=t?this.dotActiveColor:this.dotColor,e.style.transform=t?"scale(1.2)":"scale(1)"}updateDotColors(){this.dots.forEach((e,t)=>{this.updateDotStyle(e,t===this.currentSlide)})}startAutoplay(){this.stopAutoplay(),this.autoplayInterval=setInterval(()=>this.next(),3e3)}stopAutoplay(){this.autoplayInterval&&(clearInterval(this.autoplayInterval),this.autoplayInterval=null)}updateSlide(){this.track.style.transition="transform 0.3s ease",this.track.style.transform=`translateX(-${100*this.currentSlide}%)`,this.updateDotColors()}next(){this.currentSlide=(this.currentSlide+1)%this.slides.length,this.updateSlide()}prev(){this.currentSlide=(this.currentSlide-1+this.slides.length)%this.slides.length,this.updateSlide()}goToSlide(e){this.currentSlide=e,this.updateSlide(),this.stopAutoplay(),this.startAutoplay()}touchStart(e){this.touchStartX=e.touches[0].clientX,this.stopAutoplay(),this.track.style.transition="none"}touchMove(e){if(!this.touchStartX)return;e.preventDefault();let t=e.touches[0].clientX,n=-(this.touchStartX-t+this.currentSlide*this.gallery.offsetWidth);this.track.style.transform=`translateX(${n}px)`}touchEnd(e){let t=e.changedTouches[0].clientX,n=this.touchStartX-t;Math.abs(n)>50?n>0?this.next():this.prev():this.updateSlide(),this.touchStartX=0,this.startAutoplay()}}const h=new Map,y=new MutationObserver(e=>{e.forEach(e=>{e.target.classList.contains("active")&&e.target.querySelectorAll(".mobile-video").forEach(e=>{h.has(e.id.split("-")[1])||function(e){let t=e.id.split("-")[1],n=e.querySelector(`#start-overlay-${t}`),o=e.querySelector(`#pause-overlay-${t}`),l=e.querySelector(`#blur-bg-${t}`);if(!e.querySelector(`#youtube-video-${t}`))return;let r=new YT.Player(`youtube-video-${t}`,{events:{onReady:function(){n.style.display="flex",l.style.display="block",r.setPlaybackQuality("hd1080"),n.onclick=()=>{r.playVideo(),n.style.display="none",l.style.display="none"},o.onclick=()=>{r.playVideo(),o.style.display="none",l.style.display="none"}},onStateChange:function(e){e.data===YT.PlayerState.PAUSED?(o.style.display="flex",l.style.display="block"):e.data===YT.PlayerState.ENDED?(n.style.display="flex",o.style.display="none",l.style.display="block"):e.data===YT.PlayerState.PLAYING&&(n.style.display="none",o.style.display="none",l.style.display="none",r.setPlaybackQuality("hd1080"))}}});h.set(t,r)}(e)})})});document.querySelectorAll(".quiz-section").forEach(e=>{y.observe(e,{attributes:!0,attributeFilter:["class"],subtree:!0})}),document.querySelectorAll(".faq-header").forEach(e=>{e.addEventListener("click",()=>{e.classList.toggle("active");let t=e.nextElementSibling;t.classList.toggle("active"),t.classList.contains("active")?t.style.maxHeight=t.scrollHeight+"px":t.style.maxHeight="0"})}),document.querySelectorAll(".input-widget").forEach(c);
//# sourceMappingURL=index.910c6513.js.map
